<?xml version="1.0" encoding="utf-8"?>
<!-- License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
     © 2015 Grupo ESOC Ingeniería de Servicios, S.L.U. - Jairo Llopis -->

<openerp>
<data>

<!-- Views -->
<record id="course_tree" model="ir.ui.view">
    <field name="name">Course tree</field>
    <field name="model">training.course</field>
    <field name="arch" type="xml">
        <tree>
            <field name="name"/>
            <field name="type_id"/>
        </tree>
    </field>
</record>

<record id="course_form" model="ir.ui.view">
    <field name="name">Course form</field>
    <field name="model">training.course</field>
    <field name="arch" type="xml">
        <form>
            <group string="Information">
                <field name="name"/>
                <field name="type_id"/>
                <field name="product_ids" widget="many2many_tags"/>
                <field name="duration_ids">
                    <tree editable="bottom">
                        <field name="type_id"/>
                        <field name="duration" widget="float_time"/>
                    </tree>
                </field>
            </group>
            <group string="Grade Limits">
                <field name="grade_min"/>
                <field name="grade_pass"/>
                <field name="grade_max"/>
            </group>
            <group string="Contents">
                <field name="contents_layout"/>
                <field name="contents" nolabel="True"/>
            </group>
        </form>
    </field>
</record>

<record id="course_search" model="ir.ui.view">
    <field name="name">Course search</field>
    <field name="model">training.course</field>
    <field name="arch" type="xml">
        <search>
            <field name="name"/>
            <field name="type_id"/>
            <group string="Group By">
                <filter string="Type"
                        help="Group courses by training type"
                        context="{'group_by': 'type_id'}"/>
            </group>
        </search>
    </field>
</record>

<!-- Courses -->
<record id="open_courses_view" model="ir.actions.act_window">
    <field name="name">Courses</field>
    <field name="res_model">training.course</field>
    <field name="view_mode">tree,form</field>
    <field name="context">{
        "training_mode": True,
    }</field>
    <field name="help" type="html">
        <p class="oe_view_nocontent_create">
            Click to add a new course.
        </p>
        <p>
            A course is one course that your company teaches and has
            in its catalog of courses.
        </p>
        <p>
            They define some requirements that the corresponding event is
            expected to fulfill. Events linked to courses are
            considered training groups.
        </p>
    </field>
</record>

<!-- Menus -->
<menuitem id="courses_menu"
          parent="catalog_menu"
          groups="user_group"
          name="Courses"
          action="open_courses_view"/>

</data>
</openerp>
